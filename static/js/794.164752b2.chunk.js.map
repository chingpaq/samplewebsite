{"version":3,"file":"static/js/794.164752b2.chunk.js","mappings":"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","sources":["webpack://flowhero/./src/appFiles/components/SideMenuEntries/CompanyComps/CompanyCards.module.scss?6492","appFiles/components/SideMenuEntries/CompanyComps/CompanyCards.js","appFiles/components/SideMenuEntries/Company/Company.js","webpack://flowhero/./src/appFiles/components/TopBar/CompanySettings/CompanySettings.module.scss?c634","appFiles/components/TopBar/CompanySettings/CompanySettings.js","webpack://flowhero/./src/appFiles/components/SideMenuEntries/Company/Company.module.scss?64b1"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"host\":\"CompanyCards_host__HOUay\",\"buttonStyle\":\"CompanyCards_buttonStyle__qwBmN\",\"borderedCardHost\":\"CompanyCards_borderedCardHost__vy296\",\"borderedCardContainer\":\"CompanyCards_borderedCardContainer__5uZRq\",\"unBorderedCardOrgChartHost\":\"CompanyCards_unBorderedCardOrgChartHost__TLL6X\",\"unBorderedCardLoadingContainer\":\"CompanyCards_unBorderedCardLoadingContainer__x9P0N\",\"bottomStatisticsOrgChartHost\":\"CompanyCards_bottomStatisticsOrgChartHost__LHIwN\",\"bottomStatisticsOrgChart\":\"CompanyCards_bottomStatisticsOrgChart__cX6mK\",\"unBorderedCardOverviewHost\":\"CompanyCards_unBorderedCardOverviewHost__NAxVU\",\"companyOverviewRow\":\"CompanyCards_companyOverviewRow__thvn+\",\"companyOverviewNameContainer\":\"CompanyCards_companyOverviewNameContainer__JPHQ2\",\"companyOverviewNameText\":\"CompanyCards_companyOverviewNameText__pjVPv\",\"companyOverviewLogoContainer\":\"CompanyCards_companyOverviewLogoContainer__niIPu\",\"companyOverviewLogo\":\"CompanyCards_companyOverviewLogo__MBzPL\",\"companyOverviewLogoFallback\":\"CompanyCards_companyOverviewLogoFallback__7l-OU\",\"companyOverviewLabeledContainer\":\"CompanyCards_companyOverviewLabeledContainer__GbYpX\",\"companyOverviewLabel\":\"CompanyCards_companyOverviewLabel__j8xFA\",\"companyOverviewDataContainer\":\"CompanyCards_companyOverviewDataContainer__d0pcD\",\"companyOverviewData\":\"CompanyCards_companyOverviewData__6Hc+-\",\"labeledContainerLabel\":\"CompanyCards_labeledContainerLabel__Y5rmE\"};","import { useEffect, useState, lazy } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { first } from 'rxjs/operators';\nimport { getCompanyDetails, getCompanyOrgChartPositions } from '../../../services/company.service';\nimport { Button } from '../../common';\nimport cls from './CompanyCards.module.scss';\n\nimport CompanyOrganisationalChart from '../../OnboardingEntries/CompanyOrganizationalChart/CompanyOrganizationalChart';\nimport { setShowMenu } from '../../../reduxStore/actions/flowActions';\nimport { store } from '../../../reduxStore/store';\nimport { isMobile } from 'react-device-detect';\nconst PanZoomComponent = lazy(() => import('../../common/PanZoomComponent/PanZoomComponent'));\n\nexport const CompanyOrgChartCard = props => {\n\tconst navigate = useNavigate();\n\tconst [loadingChart, setLoadingChart] = useState(false);\n\tfunction redirectToChartScreen() {\n\t\tstore.dispatch(setShowMenu(false));\n\t\tsetLoadingChart(false);\n\t\tnavigate('/chart');\n\t}\n\n\tuseEffect(() => {\n\t\tsetLoadingChart(true);\n\t\tgetCompanyOrgChartPositions()\n\t\t\t.pipe(first())\n\t\t\t.subscribe({\n\t\t\t\tcomplete: () => setLoadingChart(false),\n\t\t\t});\n\t}, []);\n\n\tconst { initVersion } = props;\n\n\treturn initVersion ? (\n\t\t<LabeledContainer label={''}>\n\t\t\t<div className={cls.borderedCardHost}>\n\t\t\t\t<div className={cls.borderedCardContainer}>\n\t\t\t\t\t<p>{'Begin setting up your Company by creating departments and positions.'}</p>\n\t\t\t\t\t<Button light loading={loadingChart} title={'Start Setup'} clicked={() => redirectToChartScreen()} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</LabeledContainer>\n\t) : (\n\t\t<div>\n\t\t\t<Button title={isMobile ? 'View Roles' : 'View Roles and Departments'} clicked={() => redirectToChartScreen()} style={{}} />\n\t\t</div>\n\t);\n};\nexport const PreviewChart = () => {\n\treturn (\n\t\t<PanZoomComponent zoomStep={1} controlsContainerClass={cls.panZoomControlsContainer} panZoomProps={{ autoCenterZoomLevel: 0.65, className: cls.panZoomComponent, style: { cursor: 'grab' } }}>\n\t\t\t<CompanyOrganisationalChart preview />\n\t\t</PanZoomComponent>\n\t);\n};\n\nconst LabeledContainer = props => {\n\tconst { label, children } = props;\n\treturn (\n\t\t<div className={cls.labeledContainerHost}>\n\t\t\t<p className={cls.labeledContainerLabel}>{label}</p>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport const CompanyOverview = props => {\n\tconst { companyData } = props;\n\tconst [companyDetails, setCompanyDetails] = useState(companyData);\n\n\tuseEffect(() => {\n\t\tgetCompanyDetails()\n\t\t\t.pipe(first())\n\t\t\t.subscribe({\n\t\t\t\tnext: data => {\n\t\t\t\t\tsetCompanyDetails({ ...data });\n\t\t\t\t},\n\t\t\t});\n\t}, []);\n\treturn (\n\t\t<div className={cls.host}>\n\t\t\t<CompanyOrgChartCard initVersion={companyDetails.departments_count == 0} />\n\t\t</div>\n\t);\n};\n","import { connect, useDispatch } from 'react-redux';\n\nimport { setOnBoardingModalsVisibility, setOnBoardingVisible } from '../../../reduxStore/actions/modalsActions';\nimport cls from './Company.module.scss';\nimport { CompanyOverview } from '../CompanyComps/CompanyCards';\nimport CompanySettings from '../../TopBar/CompanySettings/CompanySettings';\nimport HeaderTopBar from '../../common/HeaderTopBar/HeaderTopBar';\nimport { PermissionWrapper, po } from '../../common';\nimport { useEffect } from 'react';\nimport { setShowMenu, setShowSideMenu } from '../../../reduxStore/actions/flowActions';\nimport { APP_NAME } from '../../../shared/utility';\nimport { CompanyAdmin } from '../../common/CompanyDataUpdate/CompanyDataUpdate';\n\nconst Company = props => {\n\tconst { companyData, authenticatedUser } = props;\n\tconst dispatch = useDispatch();\n\n\tdocument.title = `Company | ${APP_NAME}`;\n\n\tuseEffect(() => {\n\t\tdispatch(setShowSideMenu(false));\n\t\tdispatch(setShowMenu(true));\n\t}, []);\n\n\treturn (\n\t\t<div className={cls.companyHost}>\n\t\t\t<div style={{ display: 'flex', flexDirection: 'column', margin: '200px 0 0 0' }}>\n\t\t\t\t<HeaderTopBar headerTitle={'Company'} targetProcessing={false} />\n\t\t\t\t{authenticatedUser.is_admin === true && (\n\t\t\t\t\t<PermissionWrapper permissions={[po.company.orgChart.update]}>\n\t\t\t\t\t\t<CompanyOverview companyData={companyData} />\n\t\t\t\t\t</PermissionWrapper>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{authenticatedUser.user_type !== 'superadmin' && <CompanySettings />}\n\t\t\t{(authenticatedUser.user_type === 'superadmin' || authenticatedUser.user_type === 'admin') && <CompanyAdmin user={authenticatedUser} company={authenticatedUser.user_type !== 'superadmin' ? companyData : undefined} />}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = store => {\n\tconst {\n\t\tauthenticatedUser: { position },\n\t\tauthenticatedUser,\n\t} = store.authReducer;\n\tconst { user } = store.sessionReducer;\n\n\tconst { companyData, companyPositionsArray, allTasks, allCompletedTasks, allCompletedTasksPaginated, companyUsersArray } = store.flowReducer;\n\treturn {\n\t\tcompanyData,\n\t\tcompanyPositionsArray,\n\t\tposition,\n\t\tallTasks,\n\t\tallCompletedTasks,\n\t\tallCompletedTasksPaginated,\n\t\tuser,\n\t\tcompanyUsersArray,\n\t\tauthenticatedUser,\n\t};\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonSetOnBoardingVisible: visible => dispatch(setOnBoardingVisible(visible)),\n\t\tonToggleModalVisibility: modalVisible => dispatch(setOnBoardingModalsVisibility(modalVisible)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Company);\n","// extracted by mini-css-extract-plugin\nexport default {\"host\":\"CompanySettings_host__BUW5K\",\"labeledContainerLabel\":\"CompanySettings_labeledContainerLabel__-BJE5\",\"label\":\"CompanySettings_label__KJjqm\",\"userslistContainer\":\"CompanySettings_userslistContainer__AeiAs\",\"companyEmployeesContainer\":\"CompanySettings_companyEmployeesContainer__QBao2\"};","import moment from 'moment';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { first } from 'rxjs/operators';\nimport 'react-tabs/style/react-tabs.css';\nimport { take } from 'rxjs/operators';\nimport { setAuthenticatedUser } from '../../../reduxStore/actions/authActions';\nimport { setCompanyData } from '../../../reduxStore/actions/flowActions';\nimport { tutorialModalOpen } from '../../../reduxStore/actions/modalsActions';\nimport { getAllUsers } from '../../../services/user.service';\nimport { setCompanyDetails } from '../../../services/company.service';\nimport { industryFields, numberOfEmployees } from '../../../shared/utility';\nimport { CompanyDataUpdate } from '../../common';\n\nimport cls from './CompanySettings.module.scss';\n\nfunction CompanySettings(props) {\n\tconst { companyUsersArray, companyData, position } = props;\n\tconst [, setContinueDisabled] = useState(true);\n\tconst [, setCompanyUsers] = useState([\n\t\t...(companyUsersArray.map(i => ({\n\t\t\tid: i.id,\n\t\t\tfirst_name: i.first_name,\n\t\t\tlast_name: i.last_name,\n\t\t\temail: i.email,\n\t\t\tposition: `${i.positions?.map(u => u.name).join(', ')}`,\n\t\t\tis_admin: i.is_admin,\n\t\t\tphoto: i.photo,\n\t\t\ttimezone: i.timezone,\n\t\t})) ?? []),\n\t]);\n\tconst { name, founding_date, employees_no, industry } = companyData;\n\tconst [elementsTouched, setElementsTouched] = useState({\n\t\tname: companyData?.name?.length > 2,\n\t\tdisplay_name: companyData?.display_name?.length > 2,\n\t\tfounding_date: moment(companyData.founding_date, 'YYYY-MM-DD').diff(moment().format('YYYY-MM-DD')) < 0,\n\t\temployees_no: numberOfEmployees.some(i => i.value === companyData.employees_no),\n\t\tindustry: industryFields?.some(i => i.label == companyData.industry),\n\n\t});\n\n\tconst [setUsers_ApiError] = useState('');\n\tconst [fieldErrors, setFieldsErrors] = useState({\n\t\tname: '',\n\t\tdisplay_name: '',\n\t\tfounding_date: '',\n\t\temployees_no: '',\n\t\tindustry: '',\n\t});\n\n\tuseEffect(() => {\n\t\tgetAllUsers()\n\t\t\t.pipe(take(1))\n\t\t\t.subscribe({\n\t\t\t\tnext: data => {\n\t\t\t\t\tsetCompanyUsers([...(data ?? [])]);\n\t\t\t\t},\n\t\t\t\terror: error => {\n\t\t\t\t\tsetUsers_ApiError(error.data);\n\t\t\t\t},\n\t\t\t\tcomplete: () => {},\n\t\t\t});\n\t}, []);\n\tconst isInvalidPayload = useCallback(() => {\n\t\tsetFieldsErrors({ name: '', display_name: '', founding_date: '', employees_no: '', industry: '', misc_info: '' });\n\t\tlet isInvalid = false;\n\n\t\tif (companyData?.name?.length < 2) {\n\t\t\tsetFieldsErrors(c => ({ ...c, name: 'Company name must have at least 2 characters' }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (companyData?.display_name?.length < 2) {\n\t\t\tsetFieldsErrors(c => ({ ...c, display_name: 'Company display name must have at least 2 characters' }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (moment(companyData.founding_date, 'YYYY-MM-DD').diff(moment().format('YYYY-MM-DD')) > 0) {\n\t\t\tsetFieldsErrors(c => ({ ...c, founding_date: \"Company's founding date is not a valid date\" }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (companyData?.employees_no?.toString().length < 3 || !numberOfEmployees.some(i => i.value === companyData.employees_no)) {\n\t\t\tsetFieldsErrors(c => ({ ...c, employees_no: `Employees' number is not valid. \\nStored value (${companyData?.employees_no}) is not matching any selectable range` }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (companyData?.industry?.length < 3 || !industryFields?.some(i => i.label == companyData.industry)) {\n\t\t\tsetFieldsErrors(c => ({ ...c, industry: 'Industry field entry is not valid' }));\n\t\t\tisInvalid = true;\n\t\t}\n\t\tif (companyData?.name?.length > 0) {\n\t\t\tif (name?.length > 0) {\n\t\t\t\tsetContinueDisabled(false);\n\t\t\t} else {\n\t\t\t\tsetContinueDisabled(true);\n\t\t\t}\n\t\t}\n\t\treturn isInvalid;\n\t}, [companyData, founding_date, employees_no, industry, elementsTouched]);\n\n\tuseEffect(() => {\n\t\telementsTouched.industry && isInvalidPayload();\n\t}, [companyData, position]);\n\n\tconst updateCompanyData = companyPayload => {\n\t\tsetCompanyDetails(companyPayload)\n\t\t\t.pipe(first())\n\t\t\t.subscribe({\n\t\t\t\terror: error => {\n\t\t\t\t\tconst foundErrors = { name: '', display_name: '', founding_date: '', employees_no: '', industry: '' };\n\t\t\t\t\tif (error.data.errors.name) {\n\t\t\t\t\t\tfoundErrors.name = error.data.errors.name[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (error.data.errors.display_name) {\n\t\t\t\t\t\tfoundErrors.display_name = error.data.errors.display_name[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (error.data.errors.founding_date) {\n\t\t\t\t\t\tfoundErrors.founding_date = error.data.errors.founding_date[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (error.data.errors.employees_no) {\n\t\t\t\t\t\tfoundErrors.employees_no = error.data.errors.employees_no[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (error.data.errors.industry) {\n\t\t\t\t\t\tfoundErrors.industry = error.data.errors.industry[0];\n\t\t\t\t\t}\n\t\t\t\t\tsetFieldsErrors(c => ({ ...c, ...foundErrors }));\n\t\t\t\t},\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div id=\"company-settings\" className={cls.host}>\n\t\t\t<CompanyDataUpdate datePickerRC feValidation={{ ...fieldErrors }} sendCompanyDetails={updateCompanyData} setElementsTouched={setElementsTouched} />\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = store => {\n\tconst {\n\t\tauthenticatedUser: { position },\n\t} = store.authReducer;\n\tconst { companyData, companyPositionsArray, companyUsersArray } = store.flowReducer;\n\treturn { companyData, companyPositionsArray, position, companyUsersArray };\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonSetCompanyDataField: field => dispatch(setCompanyData(field)),\n\t\tonSetAuthenticatedUserPosition: position => dispatch(setAuthenticatedUser(position)),\n\t\tonTutorialModalOpen: options => dispatch(tutorialModalOpen(options)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(CompanySettings);\n","// extracted by mini-css-extract-plugin\nexport default {\"companyHost\":\"Company_companyHost__1GYT8\",\"usersHost\":\"Company_usersHost__p8GWh\",\"bottomText\":\"Company_bottomText__zDv3N\",\"topText\":\"Company_topText__vAlwF\",\"textSection\":\"Company_textSection__DAJA1\",\"noColleaguesBackground\":\"Company_noColleaguesBackground__g-5lD\",\"noColleaguesContainer\":\"Company_noColleaguesContainer__J7xsh\",\"noColleaguesInnerContainer\":\"Company_noColleaguesInnerContainer__Yk6up\",\"noColleaguesSection\":\"Company_noColleaguesSection__M4I8S\",\"bottomOrgTextContainer\":\"Company_bottomOrgTextContainer__qI5VQ\",\"orgChartContainer\":\"Company_orgChartContainer__PyWaw\",\"orgChartSection\":\"Company_orgChartSection__6rgj1\",\"noTeamMembers\":\"Company_noTeamMembers__gl1Rb\",\"colleaguesSection\":\"Company_colleaguesSection__FXaYO\",\"leftSideContainer\":\"Company_leftSideContainer__opyjV\",\"rightSideContainer\":\"Company_rightSideContainer__5J8j0\",\"loadingIndicator\":\"Company_loadingIndicator__PkUK1\",\"filterButton\":\"Company_filterButton__Q2REB\",\"filterButtonIcon\":\"Company_filterButtonIcon__wBrgi\",\"resetFilterButton\":\"Company_resetFilterButton__-4+z3\",\"resetFilterButtonIcon\":\"Company_resetFilterButtonIcon__7RFA1\",\"navbarSection\":\"Company_navbarSection__81sPj\",\"logoUrlImg\":\"Company_logoUrlImg__GrM4O\",\"logoUrlImgM\":\"Company_logoUrlImgM__PwIpA\",\"banner\":\"Company_banner__+lHF-\",\"banner2\":\"Company_banner2__joTvv\",\"companyHome\":\"Company_companyHome__-zveT\",\"centerDiv\":\"Company_centerDiv__tWVJO\"};"],"names":["CompanyOrgChartCard","props","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","loadingChart","setLoadingChart","redirectToChartScreen","store","setShowMenu","useEffect","getCompanyOrgChartPositions","pipe","first","subscribe","complete","initVersion","React","createElement","LabeledContainer","label","className","cls","Button","light","loading","title","clicked","isMobile","style","children","CompanyOverview","companyData","_useState3","_useState4","companyDetails","setCompanyDetails","getCompanyDetails","next","data","_objectSpread","departments_count","connect","_store$authReducer","authReducer","position","authenticatedUser","user","sessionReducer","_store$flowReducer","flowReducer","companyPositionsArray","allTasks","allCompletedTasks","allCompletedTasksPaginated","companyUsersArray","dispatch","onSetOnBoardingVisible","visible","setOnBoardingVisible","onToggleModalVisibility","modalVisible","setOnBoardingModalsVisibility","useDispatch","document","concat","APP_NAME","setShowSideMenu","display","flexDirection","margin","HeaderTopBar","headerTitle","targetProcessing","is_admin","PermissionWrapper","permissions","po","user_type","CompanySettings","CompanyAdmin","company","undefined","onSetCompanyDataField","field","setCompanyData","onSetAuthenticatedUserPosition","setAuthenticatedUser","onTutorialModalOpen","options","tutorialModalOpen","_companyUsersArray$ma","_companyData$name","_companyData$display_","setContinueDisabled","_toConsumableArray","map","i","_i$positions","id","first_name","last_name","email","positions","u","name","join","photo","timezone","setCompanyUsers","founding_date","employees_no","industry","_useState5","length","display_name","moment","diff","format","numberOfEmployees","value","industryFields","_useState6","elementsTouched","setElementsTouched","_useState7","setUsers_ApiError","_useState9","_useState10","fieldErrors","setFieldsErrors","getAllUsers","take","error","isInvalidPayload","useCallback","_companyData$name2","_companyData$display_2","_companyData$employee","_companyData$industry","_companyData$name3","misc_info","isInvalid","c","toString","CompanyDataUpdate","datePickerRC","feValidation","sendCompanyDetails","companyPayload","foundErrors","errors"],"sourceRoot":""}