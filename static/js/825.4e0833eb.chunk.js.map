{"version":3,"file":"static/js/825.4e0833eb.chunk.js","mappings":"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","sources":["webpack://flowhero/./src/appFiles/components/OnboardingEntries/CompanyOrganizationalChart/EditComOrgChart.module.scss?538b","appFiles/components/OnboardingEntries/CompanyOrganizationalChart/EditComOrgChart.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"mainContainer\":\"EditComOrgChart_mainContainer__ZAIhg\",\"backButtonContainer\":\"EditComOrgChart_backButtonContainer__HDWrv\",\"backButton\":\"EditComOrgChart_backButton__JSdP5\",\"backButtonIcon\":\"EditComOrgChart_backButtonIcon__oqptF\",\"inviteColleguesContainer\":\"EditComOrgChart_inviteColleguesContainer__s2Vbk\",\"inviteColleguesButton\":\"EditComOrgChart_inviteColleguesButton__XKKsk\",\"inviteColleguesButtonIcon\":\"EditComOrgChart_inviteColleguesButtonIcon__9zw1B\",\"controlsContainer\":\"EditComOrgChart_controlsContainer__K0uG6\",\"addPositionButton\":\"EditComOrgChart_addPositionButton__1vh3b\",\"addPositionButtonIcon\":\"EditComOrgChart_addPositionButtonIcon__bQyMP\",\"defineDepartmentsButton\":\"EditComOrgChart_defineDepartmentsButton__9vYgm\",\"defineDepartmentsButtonIcon\":\"EditComOrgChart_defineDepartmentsButtonIcon__3I+qp\",\"chartContainer\":\"EditComOrgChart_chartContainer__VeHYX\",\"paragraphNameContainer\":\"EditComOrgChart_paragraphNameContainer__PC4SG\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\nimport { setServerFeatureNotReadyYet, setPositionInfo, setShowMenu } from '../../../reduxStore/actions/flowActions';\nimport { setOnBoardingModalsVisibility, setOnBoardingVisible } from '../../../reduxStore/actions/modalsActions';\nimport CompanyOrganizationalChart from './CompanyOrganizationalChart';\nimport cls from './EditComOrgChart.module.scss';\nimport { Button, PermissionWrapper, Spinner, po } from '../../common';\nimport { getPositionById } from '../../../services/company.service';\nimport { store } from '../../../reduxStore/store';\nimport CreateDepartments from '../OnboardingModals/CreateDepartments';\nconst EditComOrgChart = props => {\n\tconst navigate = useNavigate();\n\tconst { onToggleModalVisibility, onSetOnBoardingVisible, companyOrgChart } = props;\n\tconst [departments] = useState({});\n\tconst [aContainerDim, setAContainerDim] = useState({ width: 0, height: 0 });\n\tconst aContainerRef = useRef();\n\tconst [showDepartments, setShowDepartments] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst [showAsChart, setShowAsChart] = useState(false);\n\tuseEffect(() => {\n\t\tsetAContainerDimensions();\n\t}, [aContainerRef, departments]);\n\tconst setAContainerDimensions = useCallback(() => {\n\t\tconst { width, height } = aContainerRef?.current?.getBoundingClientRect() || {};\n\t\tsetAContainerDim({ width: width, height: height });\n\t}, [aContainerRef]);\n\n\tconst onPositionPressed = positionId => {\n\t\tsetLoading(true);\n\t\tgetPositionById(positionId).subscribe({\n\t\t\tnext: () => {\n\t\t\t\tsetLoading(false);\n\t\t\t\tonToggleModalVisibility({ positionModalVisible: true });\n\t\t\t\tonSetOnBoardingVisible(true);\n\t\t\t},\n\t\t\terror: () => {\n\t\t\t\tsetLoading(false);\n\t\t\t},\n\t\t\tcomplete: () => {},\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className={cls.mainContainer}>\n\t\t\t<div className={cls.backButtonContainer} style={{ display: '' }}>\n\t\t\t\t<Button\n\t\t\t\t\ttitle={'Back'}\n\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\tstore.dispatch(setShowMenu(true));\n\t\t\t\t\t\tnavigate('/company');\n\t\t\t\t\t}}\n\t\t\t\t></Button>\n\t\t\t\t<PermissionWrapper permissions={[po.company.orgChart.update]}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={'Departments'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tsetShowDepartments(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={'Add Role'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\t\t\tsetPositionInfo({\n\t\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\t\tid: '',\n\t\t\t\t\t\t\t\t\tparent: undefined,\n\t\t\t\t\t\t\t\t\tparent_position: undefined,\n\t\t\t\t\t\t\t\t\tdepartment_id: '',\n\t\t\t\t\t\t\t\t\tis_managerial: false,\n\t\t\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\t\t\tusers: [],\n\t\t\t\t\t\t\t\t\tshared_users: [],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tonToggleModalVisibility({ positionModalVisible: true });\n\t\t\t\t\t\t\tonSetOnBoardingVisible(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlight\n\t\t\t\t\t\ttitle={showAsChart ? 'View List' : 'View Chart'}\n\t\t\t\t\t\tclicked={() => {\n\t\t\t\t\t\t\tsetShowAsChart(!showAsChart);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PermissionWrapper>\n\t\t\t</div>\n\t\t\t<div className={cls.paragraphNameContainer}>\n\t\t\t\t<Button title={'Roles and Departments'} clear loading={loading} />\n\t\t\t</div>\n\n\t\t\t<div ref={aContainerRef} className={cls.chartContainer}>\n\t\t\t\t<CompanyOrganizationalChart dimmensions={aContainerDim} onPositionPressed={onPositionPressed} showAsChart={showAsChart}></CompanyOrganizationalChart>\n\t\t\t</div>\n\n\t\t\t{showDepartments && (\n\t\t\t\t<CreateDepartments\n\t\t\t\t\tmodalVisible={showDepartments}\n\t\t\t\t\thasCloseButton={true}\n\t\t\t\t\tmodalWrapperStyle={{}}\n\t\t\t\t\tshadowedContainerStyle={{ minWidth: '523px', width: '40%', height: 'auto' }}\n\t\t\t\t\tchildrenWrapperStyle={{}}\n\t\t\t\t\tonCancel={() => {\n\t\t\t\t\t\tsetShowDepartments(false);\n\t\t\t\t\t}}\n\t\t\t\t\tonPreviousButtonAction={() => {\n\t\t\t\t\t\tsetShowDepartments(false);\n\t\t\t\t\t}}\n\t\t\t\t\tonNextButtonAction={() => {\n\t\t\t\t\t\tsetShowDepartments(false);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = store => {\n\tconst { inviteColleguesList, companyOrgChart } = store.flowReducer;\n\treturn { inviteColleguesList, companyOrgChart };\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonSetOnBoardingVisible: visible => dispatch(setOnBoardingVisible(visible)),\n\t\tonToggleModalVisibility: modalVisible => dispatch(setOnBoardingModalsVisibility(modalVisible)),\n\t\tonSetServerFeatureNotReadyYet: unlock => dispatch(setServerFeatureNotReadyYet(unlock)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(EditComOrgChart);\n"],"names":["connect","store","_store$flowReducer","flowReducer","inviteColleguesList","companyOrgChart","dispatch","onSetOnBoardingVisible","visible","setOnBoardingVisible","onToggleModalVisibility","modalVisible","setOnBoardingModalsVisibility","onSetServerFeatureNotReadyYet","unlock","setServerFeatureNotReadyYet","props","navigate","useNavigate","_useState","useState","departments","_slicedToArray","_useState3","width","height","_useState4","aContainerDim","setAContainerDim","aContainerRef","useRef","_useState5","_useState6","showDepartments","setShowDepartments","_useState7","_useState8","loading","setLoading","_useState9","_useState10","showAsChart","setShowAsChart","useEffect","setAContainerDimensions","useCallback","_aContainerRef$curren","_ref","current","getBoundingClientRect","React","className","cls","style","display","Button","title","clicked","setShowMenu","PermissionWrapper","permissions","po","light","setPositionInfo","name","id","parent","undefined","parent_position","department_id","is_managerial","children","users","shared_users","positionModalVisible","clear","ref","CompanyOrganizationalChart","dimmensions","onPositionPressed","positionId","getPositionById","subscribe","next","error","complete","CreateDepartments","hasCloseButton","modalWrapperStyle","shadowedContainerStyle","minWidth","childrenWrapperStyle","onCancel","onPreviousButtonAction","onNextButtonAction"],"sourceRoot":""}