"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[807],{21807:function(e,t,o){o.r(t),o.d(t,{default:function(){return H}});var n=o(29439),a=o(67861),r=o(39518),s=o(23280),i=o(88374),l="Login_host__HJ5T9",d="Login_firstContainer__kfGLU",m="Login_headerTopBarContainer__QWz8Y",u="Login_firstContainerContent__wbbdK",c="Login_logoUrlImg__UaUon",p="Login_logoUrlImgMobile__gvaUr",v=o(87462),g=o(12265),f=o(47144),h=o.n(f),w=o(15049),b=o(10103),_=o(98500),y=o(23075),E=o.n(y),S=o(31787);E()(_);var N=o(71982),C=o(57417),L=o(96189),q=o(48630),x=o(29863),I=o(67861),B=(0,a.forwardRef)((function(e,t){var o=(0,a.useState)(!1),r=(0,n.Z)(o,2),s=r[0],i=r[1];return I.createElement(x.HG,(0,v.Z)({},e,{ref:t,type:s?"text":"password",rightButtonLabel:s?"Hide":"Show",rightButtonAction:function(){return i((function(e){return!e}))},rightButtonClass:""}))})),P="LoginForm_host__UvJwq",U="LoginForm_row__9D3he",k="LoginForm_signInButton__VPwbB",M="LoginForm_recoverPasswordButton__fDOss",R=o(73500),Z=o(89293),D="This company do not have onboard required data yet!\nPlease contact comapny admin.\nBasic company information must be enroled\nBefore you will be granted access to ".concat(Z.iC),F=(0,a.memo)((function(e){var t,o,s,l,d,m,u,c,p=e.onLoginSuccess,f=e.className,y=e.onResetPassword,E=(0,r.I0)(),I=(0,r.v9)((function(e){return e.authReducer.sessionSettings})).rememberMe,Z=(0,a.useState)(!1),F=(0,n.Z)(Z,2),V=F[0],j=F[1],A=(0,a.useState)(""),H=(0,n.Z)(A,2),J=H[0],T=H[1],z=(0,a.useMemo)((function(){return{yup:_,schemas:{email:_.string().min(6,"Username must have at least 8 characters"),password:_.string().min(8,"Password must have at least 8 characters"),passwordRepeat:_.string().oneOf([_.ref("password"),null],"Passwords does not match").required("Password repeat is required"),website:_.string().url(),phoneNumber:_.string().test({name:"phone-pattern",message:"Not a valid phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,S.yf)(e)}}),mobilePhoneNumber:_.string().test({name:"mobile-phone-pattern",message:"Not a valid mobile phone number",test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""==e||(0,S.yf)(e)}}),employerName:_.string().required("Employer name is required")}}}),[]),G=z.schemas,O=z.yup,W=(0,w.cI)({mode:"onSubmit",criteriaMode:"firstError",resolver:(0,g.X)(O.object().shape({email:G.email,password:G.password}))}),X=W.register,$=W.handleSubmit,K=W.formState.errors,Q=W.getValues;return a.createElement("form",{onSubmit:$((function(e){T(""),j(!0);var t=Q(),o=t.email,n=t.password,a=t.rememberMe;(0,C.n$)({email:o,password:n,rememberMe:a}).pipe((0,b.q)(1)).subscribe({next:function(e){var t=e.is_admin;!1===e.onboarding_status?!0===t?(E((0,N.DJ)(!0)),E((0,N.q9)(!0)),E((0,N.$6)({firstModalVisible:!0})),E((0,i.IW)(!1)),j(!1)):(T(D),j(!1)):(E((0,N.DJ)(!1)),E((0,N.q9)(!1)),E((0,i.fj)(!0)),j(!1),null===p||void 0===p||p(e))},error:function(e){var t,o="string"==typeof e.data?e.data:null!==e&&void 0!==e&&e.error?null===e||void 0===e?void 0:e.error:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message;T(422===e.status||"Not authenticated"===o?"Invalid user name or password, please try again.":o),j(!1)}})})),className:h()(P,f),onClick:function(){return T("")}},a.createElement("div",{className:U,"app-variant":"first-row"},a.createElement(x.HG,(0,v.Z)({autoComplete:I?"username":"new-password",type:"text",placeholder:"Email or Username",defaultValue:null!==(t=localStorage.getItem("username"))&&void 0!==t?t:""},X("email")))),a.createElement("div",{className:U,"app-variant":"second-row"},a.createElement(B,(0,v.Z)({autoComplete:I?"on":"off",placeholder:"Password",defaultValue:null!==(o=localStorage.getItem("password"))&&void 0!==o?o:""},X("password")))),(J||(null===(s=K.password)||void 0===s?void 0:s.message)||(null===(l=K.email)||void 0===l?void 0:l.message))&&a.createElement(x.Bc,null,"".concat(null!==J&&void 0!==J?J:""," ").concat(null!==(d=null===(m=K.password)||void 0===m?void 0:m.message)&&void 0!==d?d:""," ").concat(null!==(u=null===(c=K.email)||void 0===c?void 0:c.message)&&void 0!==u?u:""," ")),a.createElement(L.zx,{disabled:V,loading:V,type:"submit",title:"Sign in",className:k}),a.createElement("div",{className:U,"app-variant":"third-row"},a.createElement(q.X,(0,v.Z)({defaultChecked:I,checkboxLabel:"Remember me"},X("rememberMe"))),a.createElement("br",null),a.createElement("p",{className:M,onClick:y},R.tq?"Forgot Password":"Need to find your password?"),a.createElement("br",null)))})),V=o(38502),j=o(88827),A=o(67861),H=(0,a.memo)((function(e){e.title;var t,o,v=(0,s.s0)(),g=(0,r.I0)(),f=j.h.getState().flowReducer,h=f.companyData,w=f.lastUpdates,b=j.h.getState().sessionReducer.authenticated,_=(0,a.useState)(null!==(t=JSON.parse(localStorage.getItem("companyData")))&&void 0!==t?t:{logo:""}),y=(0,n.Z)(_,1)[0];return document.title="Login | ".concat(Z.iC),(0,a.useEffect)((function(){b?v("/flowhero"):(g((0,i.fj)(!1)),(0,C.iC)())}),[]),0==b?A.createElement("div",{className:l,"app-custom-media-show":"hide"},A.createElement("div",{className:d},A.createElement("p",{onClick:function(){return v("/flowhero")},style:{cursor:"pointer",fontFamily:"var(--app-text-main-font)",color:"#4A4A4A",textDecoration:"underline",paddingLeft:"10px"}},"Home"),A.createElement("div",{className:m,style:{fontSize:R.tq?"12px":"18px"}},!(null!==y&&void 0!==y&&y.logo)&&A.createElement("p",null,null===y||void 0===y||null===(o=y.display_name)||void 0===o?void 0:o.toUpperCase()),null!==y&&void 0!==y&&y.logo?A.createElement("img",{alt:"lg",src:null===y||void 0===y?void 0:y.logo,className:R.tq?p:c}):R.tq?(0,Z.lh)("30px"):(0,Z.lh)("40px")),A.createElement("div",{className:u,style:{smarginTop:"40px",border:R.tq?"0":"",width:R.tq?"70%":"25%"}},A.createElement(F,{onLoginSuccess:function(e){var t=e.isSingleApp;if(w.componentsByModule={},"trial_ended"!==(null===h||void 0===h?void 0:h.status)&&"inactive"!==(null===h||void 0===h?void 0:h.status)){if(!0===t&&R.tq)return(0,V.V0)(),void v("/mobile");(0,V.e3)()}else{if("inactive"!==(null===h||void 0===h?void 0:h.status))return void v("/login");(0,V.e3)(!0)}v("/")},onResetPassword:function(){return v("/reset-password")}})))):A.createElement("div",{style:{margin:"auto",width:"100%",height:"500px",display:"flex",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},(0,Z.lh)("30px"))}))}}]);
//# sourceMappingURL=807.c8a268b3.chunk.js.map