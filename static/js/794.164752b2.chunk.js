"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[794,193],{27794:function(e,n,a){a.r(n),a.d(n,{default:function(){return E}});var o=a(39518),t=a(71982),r=a(71871),i=a(1413),s=a(29439),l=a(67861),d=a(23280),m=a(11577),u=a(34710),c=a(96189),_={host:"CompanyCards_host__HOUay",buttonStyle:"CompanyCards_buttonStyle__qwBmN",borderedCardHost:"CompanyCards_borderedCardHost__vy296",borderedCardContainer:"CompanyCards_borderedCardContainer__5uZRq",unBorderedCardOrgChartHost:"CompanyCards_unBorderedCardOrgChartHost__TLL6X",unBorderedCardLoadingContainer:"CompanyCards_unBorderedCardLoadingContainer__x9P0N",bottomStatisticsOrgChartHost:"CompanyCards_bottomStatisticsOrgChartHost__LHIwN",bottomStatisticsOrgChart:"CompanyCards_bottomStatisticsOrgChart__cX6mK",unBorderedCardOverviewHost:"CompanyCards_unBorderedCardOverviewHost__NAxVU",companyOverviewRow:"CompanyCards_companyOverviewRow__thvn+",companyOverviewNameContainer:"CompanyCards_companyOverviewNameContainer__JPHQ2",companyOverviewNameText:"CompanyCards_companyOverviewNameText__pjVPv",companyOverviewLogoContainer:"CompanyCards_companyOverviewLogoContainer__niIPu",companyOverviewLogo:"CompanyCards_companyOverviewLogo__MBzPL",companyOverviewLogoFallback:"CompanyCards_companyOverviewLogoFallback__7l-OU",companyOverviewLabeledContainer:"CompanyCards_companyOverviewLabeledContainer__GbYpX",companyOverviewLabel:"CompanyCards_companyOverviewLabel__j8xFA",companyOverviewDataContainer:"CompanyCards_companyOverviewDataContainer__d0pcD",companyOverviewData:"CompanyCards_companyOverviewData__6Hc+-",labeledContainerLabel:"CompanyCards_labeledContainerLabel__Y5rmE"},p=(a(48862),a(88374)),y=a(88827),C=a(73500),v=a(67861),f=function(e){var n=(0,d.s0)(),a=(0,l.useState)(!1),o=(0,s.Z)(a,2),t=o[0],r=o[1];function i(){y.h.dispatch((0,p.IW)(!1)),r(!1),n("/chart")}return(0,l.useEffect)((function(){r(!0),(0,u.on)().pipe((0,m.P)()).subscribe({complete:function(){return r(!1)}})}),[]),e.initVersion?v.createElement(g,{label:""},v.createElement("div",{className:_.borderedCardHost},v.createElement("div",{className:_.borderedCardContainer},v.createElement("p",null,"Begin setting up your Company by creating departments and positions."),v.createElement(c.zx,{light:!0,loading:t,title:"Start Setup",clicked:function(){return i()}})))):v.createElement("div",null,v.createElement(c.zx,{title:C.tq?"View Roles":"View Roles and Departments",clicked:function(){return i()},style:{}}))},g=function(e){var n=e.label,a=e.children;return v.createElement("div",{className:_.labeledContainerHost},v.createElement("p",{className:_.labeledContainerLabel},n),a)},b=function(e){var n=e.companyData,a=(0,l.useState)(n),o=(0,s.Z)(a,2),t=o[0],r=o[1];return(0,l.useEffect)((function(){(0,u.aK)().pipe((0,m.P)()).subscribe({next:function(e){r((0,i.Z)({},e))}})}),[]),v.createElement("div",{className:_.host},v.createElement(f,{initVersion:0==t.departments_count}))},h=a(1193),w=a(61616),O=a(89293),S=a(70518),D=a(67861),E=(0,o.$j)((function(e){var n=e.authReducer,a=n.authenticatedUser.position,o=n.authenticatedUser,t=e.sessionReducer.user,r=e.flowReducer;return{companyData:r.companyData,companyPositionsArray:r.companyPositionsArray,position:a,allTasks:r.allTasks,allCompletedTasks:r.allCompletedTasks,allCompletedTasksPaginated:r.allCompletedTasksPaginated,user:t,companyUsersArray:r.companyUsersArray,authenticatedUser:o}}),(function(e){return{onSetOnBoardingVisible:function(n){return e((0,t.DJ)(n))},onToggleModalVisibility:function(n){return e((0,t.$6)(n))}}}))((function(e){var n=e.companyData,a=e.authenticatedUser,t=(0,o.I0)();return document.title="Company | ".concat(O.iC),(0,l.useEffect)((function(){t((0,p.tR)(!1)),t((0,p.IW)(!0))}),[]),D.createElement("div",{className:r.Z.companyHost},D.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"200px 0 0 0"}},D.createElement(w.Z,{headerTitle:"Company",targetProcessing:!1}),!0===a.is_admin&&D.createElement(c.j3,{permissions:[c.po.company.orgChart.update]},D.createElement(b,{companyData:n}))),"superadmin"!==a.user_type&&D.createElement(h.default,null),("superadmin"===a.user_type||"admin"===a.user_type)&&D.createElement(S.E,{user:a,company:"superadmin"!==a.user_type?n:void 0}))}))},1193:function(e,n,a){a.r(n),a.d(n,{default:function(){return b}});var o=a(1413),t=a(93433),r=a(29439),i=a(50981),s=a.n(i),l=a(67861),d=a(39518),m=a(11577),u=(a(60940),a(10103)),c=a(43984),_=a(88374),p=a(71982),y=a(75105),C=a(34710),v=a(89293),f=a(96189),g="CompanySettings_host__BUW5K";var b=(0,d.$j)((function(e){var n=e.authReducer.authenticatedUser.position,a=e.flowReducer;return{companyData:a.companyData,companyPositionsArray:a.companyPositionsArray,position:n,companyUsersArray:a.companyUsersArray}}),(function(e){return{onSetCompanyDataField:function(n){return e((0,_.QK)(n))},onSetAuthenticatedUserPosition:function(n){return e((0,c.IF)(n))},onTutorialModalOpen:function(n){return e((0,p.ay)(n))}}}))((function(e){var n,a,i,d=e.companyUsersArray,c=e.companyData,_=e.position,p=(0,l.useState)(!0),b=(0,r.Z)(p,2)[1],h=(0,l.useState)((0,t.Z)(null!==(n=d.map((function(e){var n;return{id:e.id,first_name:e.first_name,last_name:e.last_name,email:e.email,position:"".concat(null===(n=e.positions)||void 0===n?void 0:n.map((function(e){return e.name})).join(", ")),is_admin:e.is_admin,photo:e.photo,timezone:e.timezone}})))&&void 0!==n?n:[])),w=(0,r.Z)(h,2)[1],O=c.name,S=c.founding_date,D=c.employees_no,E=c.industry,Z=(0,l.useState)({name:(null===c||void 0===c||null===(a=c.name)||void 0===a?void 0:a.length)>2,display_name:(null===c||void 0===c||null===(i=c.display_name)||void 0===i?void 0:i.length)>2,founding_date:s()(c.founding_date,"YYYY-MM-DD").diff(s()().format("YYYY-MM-DD"))<0,employees_no:v.rT.some((function(e){return e.value===c.employees_no})),industry:null===v.No||void 0===v.No?void 0:v.No.some((function(e){return e.label==c.industry}))}),T=(0,r.Z)(Z,2),B=T[0],H=T[1],I=(0,l.useState)(""),N=(0,r.Z)(I,1)[0],x=(0,l.useState)({name:"",display_name:"",founding_date:"",employees_no:"",industry:""}),P=(0,r.Z)(x,2),Y=P[0],k=P[1];(0,l.useEffect)((function(){(0,y.AW)().pipe((0,u.q)(1)).subscribe({next:function(e){w((0,t.Z)(null!==e&&void 0!==e?e:[]))},error:function(e){N(e.data)},complete:function(){}})}),[]);var U=(0,l.useCallback)((function(){var e,n,a,t,r;k({name:"",display_name:"",founding_date:"",employees_no:"",industry:"",misc_info:""});var i=!1;return(null===c||void 0===c||null===(e=c.name)||void 0===e?void 0:e.length)<2&&(k((function(e){return(0,o.Z)((0,o.Z)({},e),{},{name:"Company name must have at least 2 characters"})})),i=!0),(null===c||void 0===c||null===(n=c.display_name)||void 0===n?void 0:n.length)<2&&(k((function(e){return(0,o.Z)((0,o.Z)({},e),{},{display_name:"Company display name must have at least 2 characters"})})),i=!0),s()(c.founding_date,"YYYY-MM-DD").diff(s()().format("YYYY-MM-DD"))>0&&(k((function(e){return(0,o.Z)((0,o.Z)({},e),{},{founding_date:"Company's founding date is not a valid date"})})),i=!0),((null===c||void 0===c||null===(a=c.employees_no)||void 0===a?void 0:a.toString().length)<3||!v.rT.some((function(e){return e.value===c.employees_no})))&&(k((function(e){return(0,o.Z)((0,o.Z)({},e),{},{employees_no:"Employees' number is not valid. \nStored value (".concat(null===c||void 0===c?void 0:c.employees_no,") is not matching any selectable range")})})),i=!0),((null===c||void 0===c||null===(t=c.industry)||void 0===t?void 0:t.length)<3||null===v.No||void 0===v.No||!v.No.some((function(e){return e.label==c.industry})))&&(k((function(e){return(0,o.Z)((0,o.Z)({},e),{},{industry:"Industry field entry is not valid"})})),i=!0),(null===c||void 0===c||null===(r=c.name)||void 0===r?void 0:r.length)>0&&((null===O||void 0===O?void 0:O.length)>0?b(!1):b(!0)),i}),[c,S,D,E,B]);return(0,l.useEffect)((function(){B.industry&&U()}),[c,_]),l.createElement("div",{id:"company-settings",className:g},l.createElement(f.o4,{datePickerRC:!0,feValidation:(0,o.Z)({},Y),sendCompanyDetails:function(e){(0,C.sy)(e).pipe((0,m.P)()).subscribe({error:function(e){var n={name:"",display_name:"",founding_date:"",employees_no:"",industry:""};e.data.errors.name&&(n.name=e.data.errors.name[0]),e.data.errors.display_name&&(n.display_name=e.data.errors.display_name[0]),e.data.errors.founding_date&&(n.founding_date=e.data.errors.founding_date[0]),e.data.errors.employees_no&&(n.employees_no=e.data.errors.employees_no[0]),e.data.errors.industry&&(n.industry=e.data.errors.industry[0]),k((function(e){return(0,o.Z)((0,o.Z)({},e),n)}))}})},setElementsTouched:H}))}))},71871:function(e,n){n.Z={companyHost:"Company_companyHost__1GYT8",usersHost:"Company_usersHost__p8GWh",bottomText:"Company_bottomText__zDv3N",topText:"Company_topText__vAlwF",textSection:"Company_textSection__DAJA1",noColleaguesBackground:"Company_noColleaguesBackground__g-5lD",noColleaguesContainer:"Company_noColleaguesContainer__J7xsh",noColleaguesInnerContainer:"Company_noColleaguesInnerContainer__Yk6up",noColleaguesSection:"Company_noColleaguesSection__M4I8S",bottomOrgTextContainer:"Company_bottomOrgTextContainer__qI5VQ",orgChartContainer:"Company_orgChartContainer__PyWaw",orgChartSection:"Company_orgChartSection__6rgj1",noTeamMembers:"Company_noTeamMembers__gl1Rb",colleaguesSection:"Company_colleaguesSection__FXaYO",leftSideContainer:"Company_leftSideContainer__opyjV",rightSideContainer:"Company_rightSideContainer__5J8j0",loadingIndicator:"Company_loadingIndicator__PkUK1",filterButton:"Company_filterButton__Q2REB",filterButtonIcon:"Company_filterButtonIcon__wBrgi",resetFilterButton:"Company_resetFilterButton__-4+z3",resetFilterButtonIcon:"Company_resetFilterButtonIcon__7RFA1",navbarSection:"Company_navbarSection__81sPj",logoUrlImg:"Company_logoUrlImg__GrM4O",logoUrlImgM:"Company_logoUrlImgM__PwIpA",banner:"Company_banner__+lHF-",banner2:"Company_banner2__joTvv",companyHome:"Company_companyHome__-zveT",centerDiv:"Company_centerDiv__tWVJO"}}}]);
//# sourceMappingURL=794.164752b2.chunk.js.map