"use strict";(self.webpackChunkflowhero=self.webpackChunkflowhero||[]).push([[789],{63789:function(e,t,a){a.d(t,{Z:function(){return Y}});var n=a(29439),l=a(96189),r=a(89293),o="UserOverviewModal_topContainer__SfY2a",i="UserOverviewModal_avatarContainer__qWrM5",s="UserOverviewModal_name__i+epl",c="UserOverviewModal_position__8Heb9",d=a(1413),u=a(67861),m="PageSubtitle_host__1jvVf",p="PageSubtitle_pageSubtitleHost__vDvTj",v="PageSubtitle_pageSubtitleChild__s3-5p",f=function(e){var t=e.subtitleImage,a=e.subtitleText,n=e.style,l=e.smallerSubtitle;return u.createElement("div",{className:m},u.createElement("div",{className:p,style:(0,d.Z)({},n)},t&&u.createElement("img",{src:t,className:"grey-svg-image-filter",alt:""}),u.createElement("p",null,a)),l&&u.createElement("div",{className:v},u.createElement("p",null,l)))},g=a(50981),E=a.n(g),h=a(51481),k=a(10103),_=a(11577),y=a(72864),T=a(87462),b=a(90369),C=a(62589),M="TasksTable_tasksTableHost__msAp6";var S=function(e){var t=e.historyData,a=e.currentPage,r=e.lastPage,o=e.setPage,i=e.loading,s=e.setLoading,c=e.columns,d=e.data,m=(0,u.useState)(!1),p=(0,n.Z)(m,2),v=p[0],f=p[1],g=(0,u.useState)(""),E=(0,n.Z)(g,2),h=E[0],k=E[1],_=(0,u.useState)(""),y=(0,n.Z)(_,2),S=y[0],x=y[1],w=(0,u.useState)(""),Y=(0,n.Z)(w,2),Z=Y[0],N=Y[1],D=(0,u.useState)(""),P=(0,n.Z)(D,2),O=P[0],H=P[1],I=(0,u.useState)(""),A=(0,n.Z)(I,2),j=A[0],R=A[1],L=(0,u.useState)(""),U=(0,n.Z)(L,2),q=U[0],B=U[1],W=(0,u.useState)(""),V=(0,n.Z)(W,2),$=V[0],z=V[1],F=(0,u.useState)(""),G=(0,n.Z)(F,2),K=G[0],Q=G[1],X=(0,b.useTable)({columns:c,data:d}),J=X.getTableProps,ee=X.getTableBodyProps,te=X.headerGroups,ae=X.rows,ne=X.prepareRow;return u.createElement("div",{className:M},u.createElement("table",J(),u.createElement("thead",null,te.map((function(e,t){return u.createElement("tr",(0,T.Z)({key:t},e.getHeaderGroupProps(),{className:"header-row"}),e.headers.map((function(e,t){return u.createElement("th",(0,T.Z)({key:t},e.getHeaderProps()),e.render("Header"))})))}))),u.createElement("tbody",ee(),ae.map((function(e,a){return ne(e),u.createElement("tr",(0,T.Z)({key:a},e.getRowProps(),{onClick:function(){return e=t[a],Q(e),f(!v),k(e.taskName),x(e.createdAt),N(e.completedOn),H(e.duration),R(e.taskCreator),B(e.taskAssignee),void z(null===e||void 0===e?void 0:e.process);var e},style:{cursor:"pointer"}}),e.cells.map((function(e,t){return u.createElement("td",(0,T.Z)({key:t},e.getCellProps()),e.render("Cell"))})))})))),0==d.length&&u.createElement("p",null,"No Tasks Found"),u.createElement("div",{style:{textAlign:"center",marginTop:"20px",paddingBottom:"50px"}},a!==r&&d.length>0&&u.createElement(l.nw,{loadMorePressed:function(){s(!i),o(a+1)},apiRequest:i})),u.createElement(C.Z,{openedTask:K,createdAt:S,taskName:h,completedOn:Z,duration:O,taskCreator:j,taskAssignee:q,process:$,modalVisible:v,modalClosed:function(){return f(!v)},hasTutorial:!0,blured:!0,childrenWrapperStyle:{alignItems:"center"},onCancel:function(){return f(!v)}}))},x=a(23280),w=a(73500),Y=function(e){var t,a,d,m,p=e.isVisible,v=e.activeItem,g=e.handleClose,T=(e.isAdmin,v.first_name),b=v.last_name,C=v.id,M=(0,u.useState)([]),Y=(0,n.Z)(M,2),Z=Y[0],N=Y[1],D=(0,u.useState)([]),P=(0,n.Z)(D,2),O=P[0],H=P[1],I=(0,u.useState)([]),A=(0,n.Z)(I,2),j=A[0],R=A[1],L=(0,u.useState)(!1),U=(0,n.Z)(L,2),q=U[0],B=U[1],W=(0,u.useState)(!1),V=(0,n.Z)(W,2),$=V[0],z=V[1],F=(0,u.useState)({laterTasks:[],todayTasks:[],overdueTasks:[]}),G=(0,n.Z)(F,2),K=G[0],Q=G[1],X=(0,u.useState)(1),J=(0,n.Z)(X,2),ee=J[0],te=J[1],ae=(null===O||void 0===O?void 0:O.meta)||{},ne=ae.current_page,le=ae.from,re=O.data&&(null===O||void 0===O||null===(t=O.data)||void 0===t?void 0:t.map((function(e){return e}))),oe=function(e){return B(e)},ie=function(e){return z(e)};(0,x.s0)();(0,u.useEffect)((function(){return ue()}),[O.data]),(0,u.useEffect)((function(){return se()}),[Z]),(0,u.useEffect)((function(){oe(!0),(0,h.km)(C,!0).pipe((0,k.q)(1)).subscribe({next:function(e){N(e),oe(!1)},error:function(){oe(!1)},complete:function(){oe(!1)}})}),[]),(0,u.useEffect)((function(){ie(!0),(0,h.qp)(ee,C,!0).pipe((0,_.P)()).subscribe({next:function(e){H(e),ie(!1)}})}),[ee]);var se=(0,u.useCallback)((function(){var e=[],t=[],a=[];0!==(null===Z||void 0===Z?void 0:Z.length)&&(Z.map((function(n){var l=E()(new Date).format("YYYY-MM-DD");return E()(n.due_date,"YYYY-MM-DD").isSame(l)?t.push(n):E()(n.due_date,"YYYY-MM-DD").isAfter(l)?a.push(n):e.push(n)})),Q({laterTasks:a,todayTasks:t,overdueTasks:e}))}),[Z]),ce=function(e){return e.length>0&&e.map((function(e,t){return u.createElement("div",{key:t},u.createElement(y.Z,{task:e,taskId:e.id}))}))},de=u.useMemo((function(){return[{Header:function(){return u.createElement("span",null,"Task Name")},accessor:"taskName"},{Header:function(){return u.createElement("span",null,"Completed On")},accessor:"completedOn"}]}),[]),ue=(0,u.useCallback)((function(){var e,t,a=[];0!==(null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e.length)&&(null===O||void 0===O||null===(t=O.data)||void 0===t||t.map((function(e){var t;return a.push({taskName:e.name,process:null===e||void 0===e||null===(t=e.process)||void 0===t?void 0:t.name,completedOn:E()(e.completed_at).format("DD of MMMM YYYY hh:mm"),duration:e.duration})})),R(a))}),[O]);return u.createElement(l.U7,{isOpen:p,modalWrapperStyle:{margin:0},shadowedContainerStyle:{width:w.tq?"100%":"50%"},onClose:function(){return g()},scrollable:!0,blured:!0},u.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},u.createElement(l.zx,{title:"Close",clicked:g,style:{width:"100px"}})),u.createElement("div",{style:{padding:"20px"}},u.createElement("div",{style:{display:"flex",flexDirection:"column"}},u.createElement("div",{className:o},u.createElement("div",{className:i},(null===v||void 0===v||null===(a=v.photo)||void 0===a?void 0:a.length)>0&&u.createElement("img",{alt:"lg",src:(0,r.oY)(v.photo)}))),u.createElement("div",{style:{padding:"30px"}},u.createElement("p",{className:s},T+" "+b),(null===v||void 0===v||null===(d=v.positions)||void 0===d?void 0:d.length)>0&&(null===v||void 0===v||null===(m=v.positions)||void 0===m?void 0:m.map((function(e,t){return u.createElement("div",{key:t},u.createElement("p",{className:c},null===e||void 0===e?void 0:e.name))}))))),u.createElement("div",{style:{display:"none",flexDirection:"row",justifyContent:"initial"}},u.createElement("div",{style:{marginRight:"20px",width:"33%"}},u.createElement(l.SO,{cardTitle:"Overdue"},q?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):ce(K.overdueTasks))),u.createElement("div",{style:{marginRight:"20px",width:"33%"}},u.createElement(l.SO,{cardTitle:"Today"},q?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):ce(K.todayTasks))),u.createElement("div",{style:{width:"33%"}},u.createElement(l.SO,{cardTitle:"Upcoming"},q?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):ce(K.laterTasks)))),u.createElement("div",{style:{display:"flex",flexDirection:"column"}},u.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:"5px",paddingLeft:"5px"}},u.createElement(f,{subtitleText:"Tasks History"})),$?u.createElement(l.$j,{type:"BallTriangle",color:"var(--app-color-gray-light)",height:30,width:"".concat(30,"px")}):u.createElement(S,{loading:$,currentPage:ne,lastPage:le,setLoading:z,historyData:re,page:ee,setPage:te,columns:de,data:j}))))}},62589:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(1413),l=a(67861),r=(a(83381),a(39518)),o=a(88374),i=a(96189),s="InfoTaskModal_savedDescription__4uzvj",c="InfoTaskModal_contentWrapper__gt+iR",d="InfoTaskModal_contentContainer__DoP5Z",u="InfoTaskModal_content__42cL+",m="InfoTaskModal_backIconContainer__eM6Vt",p="InfoTaskModal_fieldHistoryTitle__z8Foi",v=a(50981),f=a.n(v),g=a(73500);var E=function(e){var t=e.title,a=e.content;return l.createElement("div",null,l.createElement("p",{className:p},t),l.createElement("p",{className:s},a),e.children)},h=(0,r.$j)((function(e){var t=e.flowReducer;return{inviteColleguesList:t.inviteColleguesList,companyData:t.companyData}}),(function(e){return{onSetCompanyDataField:function(t){return e((0,o.QK)(t))}}}))((function(e){var t=e.modalVisible,a=e.childrenWrapperStyle,r=e.modalClosed,o=e.openedTask,s=o.name,p=o.created_at,v=o.completed_on,h=o.duration,k=(o.process,o.creator),_=o.assignee;return o.components,t?l.createElement("div",null,l.createElement(i.U7,{backdropStyle:{height:"900px"},marginTop:"500px",onClose:r,shadowedContainerStyle:{width:g.tq?"100%":"40%"},position:"fixed",scrollable:!0,backdropColor:!0,blured:!0,width:"90%",isOpen:t},l.createElement("div",{className:m},l.createElement(i.zx,{title:"Close",clicked:r})),l.createElement("div",{className:c,style:(0,n.Z)({},a)},l.createElement("div",{className:d},l.createElement("div",{className:u},l.createElement(E,{title:"Task Name",content:s}),l.createElement(E,{title:"Task Created On",content:f()(p).format("DD of MMMM YYYY hh:mm")}),l.createElement(E,{title:"Completed On",content:f()(v).format("DD of MMMM YYYY hh:mm")}),l.createElement(E,{title:"Time on this Task",content:h}),l.createElement(E,{title:"Task Creator",content:k.first_name+" "+k.last_name}),l.createElement(E,{title:"Assignee",content:_.first_name+" "+_.last_name})))))):null}))},72864:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(50981),l=a.n(n),r=a(67861),o=a(41771),i=a(96189),s="TaskCard_task-card__8sPmS",c="TaskCard_task-card-container__rHG31",d="TaskCard_clickLabel__A3ARk";var u=function(e){var t=e.task,a=e.openModal,n=void 0===a?function(){}:a,u=e.setTaskToEdit,m=void 0===u?function(){}:u,p=e.clicked,v=void 0===p?function(){}:p,f=e.isEditable,g=e.priority,E=t.name,h=(t.process,t.status);return t.add_info,r.createElement("div",{className:s},t.completed_at?r.createElement("div",{className:c,style:{flex:1},onClick:function(){n(),m()}},r.createElement("p",{className:d,style:{fontWeight:void 0!==g?"bold":"normal"}},"".concat(E)),r.createElement("p",{className:d},l()(t.completed_at).format("DD of MMMM YYYY"))):r.createElement("div",{className:c},r.createElement(i.XZ,{label:"".concat(void 0!==g?"".concat(g):""," ").concat(E," ").concat(null!==h?"  (".concat(h,")"):""),onChange:v}),f&&r.createElement("img",{alt:"",style:{cursor:"pointer"},src:o.ePH,onClick:function(){n(),m()}})))}}}]);
//# sourceMappingURL=789.c78d1e91.chunk.js.map